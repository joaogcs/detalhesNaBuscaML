// https://www.w3schools.com/jquery/ajax_get.asp
// https://api.jquery.com/has-attribute-selector/
const zip_code = '09530580';
//api to get ship info 'https://api.mercadolibre.com/items/MLB1095827678/shipping_options?&zip_code=09530580';

//Get all Item Ids from search page
var IDs = [];
//All product infos
var listaProdutos = Array();

//Check if there is search result class element on document
if ($('#searchResults').length) {
	$('#searchResults').children().children().each(function() {
		IDs.push(this.id);
	});

	//loop through each item ID
	var counter = 1;
	IDs.forEach(function(item_id) {
		//console.log('Item [' + String(counter) + ']: ' + item_id);
		//counter++;
		var urlShipInfo = 'https://api.mercadolibre.com/items/' + item_id + '/shipping_options?&zip_code=' + zip_code;
		$.ajax({
			url: urlShipInfo
			//data: data,
			//success: success,
			//dataType: dataType
		});
		listaProdutos.push(new Produto(item_id));
	});

	//criar uma lista de obj para cada item encontrado com ID, Valor,Valor do Frete, Data de Entrega Prevista, Valor Total

	//criar um objeto
	//https://www.w3schools.com/js/js_object_constructors.asp

	//criar um array de objetos
	//https://stackoverflow.com/questions/15742442/declaring-array-of-objects
	// var n = 100;
	// var sample = new Array();
	// for (var i = 0; i < n; i++)
	//     sample.push(new Object());

	//como usar um objeto
	//https://stackoverflow.com/questions/8963693/how-to-create-json-string-in-javascript
}

function Produto(id, valor = 0, valor_frete = 0, data_entrega = 0) {
	this.id = id;
	this.valor = valor;
	this.valor_frete = valor_frete;
	this.data_entrega = data_entrega;
}
